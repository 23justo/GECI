{% extends 'Templates/index.html' %} {% load widget_tweaks %}
{% block style %}
    .custom-class{
        background-color: #cde8d5
    }

    .default-color{
        background-color: #f7a694
    }
{% endblock %}
</style>    
{% block body %}
    <div class="row">
        <div class="col-md-9 col-sm-9 col-xs-12 centrado">
            {% if message %}
                <div class="alert alert-danger alert-dismissible fade in" role="alert">
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">Ã—</span>
                    </button>
                    <strong><h4>{{message}}</h4></strong>
                </div>
            {% endif %}
            {% verbatim %}
            <div ng-app="contable">
                <div ng-controller="MovimientoCita">
                    <div class="x_panel">
                        <div class="x_title">
                            <h3>Filtrar Movimientos</h3>
                        </div>
                    <div class="row">
                        <input type="text" class="form-control col-md-3" placeholder="Buscar Por Nombre de Doctor" ng-model="searchText.doctor"/>
                        <input type="text" class="form-control col-md-3" placeholder="Buscar Por Nombre de Paciente" ng-model="searchText.paciente"/>
                        <input type="text" class="form-control col-md-3" placeholder="Buscar Por Fecha" ng-model="searchText.fecha"/>
                    </div>

                    </div>
                    

                    <div class="x_panel" >
                        <div class="x_title">
                            <h3>Movimientos</h3>
                        </div>
                        <table  class="table table-striped table-bordered"  cellspacing="10" width="100%">
                            <tr>
                                <th>No.</th>
                                <th>Doctor</th>
                                <th>Paciente</th>
                                <th>Monto</th>
                                <th>Fecha</th>
                            </tr>
                            <tr  ng-repeat="movimiento in movimientos  | filter:searchText">
                                <td ng-class="{'custom-class': movimiento.pagado == '1', 'default-color': movimiento.pagado == '0'}" ><a href="" ng-click="obtenermovimientos_data(movimiento.pk)">{{movimiento.orden}}</a></td>
                                <td ng-class="{'custom-class': movimiento.pagado == '1', 'default-color': movimiento.pagado == '0'}">{{movimiento.doctor}}</td>
                                <td ng-class="{'custom-class': movimiento.pagado == '1', 'default-color': movimiento.pagado == '0'}">{{movimiento.paciente}}</td>
                                <td ng-class="{'custom-class': movimiento.pagado == '1', 'default-color': movimiento.pagado == '0'}">{{movimiento.monto}}</td>
                                <td ng-class="{'custom-class': movimiento.pagado == '1', 'default-color': movimiento.pagado == '0'}">{{movimiento.fecha}}</td>
                            </tr>
                        </table>
                        
                    </div>
                    <div class="x_panel"  ng-if="movimiento_data_toggle">
                        <div class="x_title">
                            <h3>Detalles del Movimiento</h3>
                            <div class="" role="tabpanel" data-example-id="togglable-tabs">
                                <ul id="myTab" class="nav nav-tabs bar_tabs" role="tablist">
                                    <li role="presentation" class="active"><a href="#tab_content1" id="home-tab" role="tab" data-toggle="tab" aria-expanded="true">Doctor</a>
                                    </li>
                                    <li role="presentation" class=""><a href="#tab_content2" role="tab" id="profile-tab" data-toggle="tab" aria-expanded="false">Paciente</a>
                                    </li>
                                    <li role="presentation" class=""><a href="#tab_content3" role="tab" id="profile-tab2" data-toggle="tab" aria-expanded="false">Cita</a>
                                    </li>
                                </ul>
                                <div id="myTabContent" class="tab-content">
                                    <div role="tabpanel" class="tab-pane fade active in" id="tab_content1" aria-labelledby="home-tab">
                                        <!-- start recent activity -->
                                        <ul class="messages">
                                          <li>
                                            <div class="message_wrapper">
                                                <h4 class="heading">Informacion general del Doctor</h4>
                                                <blockquote class="message">Nombres: {{movimiento_data[0].doctor_nombres}}</blockquote><br>
                                                <blockquote class="message">Apellidos: {{movimiento_data[0].doctor_apellidos}}</blockquote><br>
                                                <blockquote class="message">Telefono: {{movimiento_data[0].telefono}}</blockquote><br>
                                                <blockquote class="message">Especialidad: {{movimiento_data[0].especialidad}}</blockquote><br>
                                                <blockquote class="message">Direccion: {{movimiento_data[0].direccion}}</blockquote><br>
                                                <blockquote class="message">DPI: {{movimiento_data[0].dpi}}</blockquote><br>
                                              <br>
                                            </div>
                                          </li>
                                        </ul>
                                        <!-- end recent activity -->
            
                                    </div>
                                    <div role="tabpanel" class="tab-pane fade" id="tab_content2" aria-labelledby="profile-tab">
                                        <ul class="messages">
                                            <li>
                                                <div class="message_wrapper">
                                                    <h4 class="heading">Informacion general del Doctor</h4>
                                                    <blockquote class="message">Nombres: {{movimiento_data[0].paciente_nombres}}</blockquote><br>
                                                    <blockquote class="message">Apellidos: {{movimiento_data[0].paciente_apellidos}}</blockquote><br>
                                                    <blockquote class="message">Sexo: {{movimiento_data[0].sexo}}</blockquote><br>
                                                    <blockquote class="message">Edad: {{movimiento_data[0].edad}}</blockquote><br>
                                                    <blockquote class="message">Tipo de Sangre: {{movimiento_data[0].tipo_sangre}}</blockquote><br>
                                                    <blockquote class="message">DPI: {{movimiento_data[0].dpi}}</blockquote><br>
                                                    <blockquote class="message">Seguro: {{movimiento_data[0].seguro}}</blockquote><br>
                                                    <blockquote class="message">Descripcion: {{movimiento_data[0].descripcion}}</blockquote><br>
                                                <br>
                                                </div>
                                            </li>
                                        </ul>
                                    </div>
                                    <div role="tabpanel" class="tab-pane fade" id="tab_content3" aria-labelledby="profile-tab">
                                        <ul class="messages">
                                            <li>
                                                <div class="message_wrapper">
                                                    <h4 class="heading">Informacion general de la Cita</h4>
                                                    <blockquote class="message">Descripcion: {{movimiento_data[0].descripcion}}</blockquote><br>
                                                <br>
                                                </div>
                                            </li>
                                        </ul>
                                    </div>

                                </div>
                            </div>
                        </div>    
                    </div>
                    
                </div>
            </div>
            {% endverbatim %}
        </div>
    </div>
    {% endblock %}